# Selfsteal - Caddy/Nginx for Reality

–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–º (Caddy –∏–ª–∏ Nginx) –¥–ª—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ Reality –≤ —Å–≤—è–∑–∫–µ —Å Xray. –ü–æ—Ä—Ç 443 –æ—Å—Ç–∞–µ—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω—ã–º –¥–ª—è Xray.

![–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ](https://github.com/user-attachments/assets/fb82bb59-c6f5-48f4-a6a8-25540be6c03e)


## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–í—ã–±–æ—Ä –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞**: Caddy (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏–ª–∏ Nginx —Å —Ñ–ª–∞–≥–æ–º `--nginx`
- **ACME SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã**: Let's Encrypt —á–µ—Ä–µ–∑ TLS-ALPN –Ω–∞ –ø–æ—Ä—Ç—É 8443 (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç 80 –ø–æ—Ä—Ç)
- **–ê–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ Firewall**: –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ UFW, firewalld, iptables
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤
- **–í–∞–ª–∏–¥–∞—Ü–∏—è DNS**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–º–µ–Ω–∞
- **11 AI-—à–∞–±–ª–æ–Ω–æ–≤**: –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–π –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏**: –ó–∞–ø—É—Å–∫, –æ—Å—Ç–∞–Ω–æ–≤–∫–∞, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫, –ª–æ–≥–∏, —Å—Ç–∞—Ç—É—Å
- **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å–∫—Ä–∏–ø—Ç–∞

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: Linux (Ubuntu, Debian, CentOS –∏ –¥—Ä—É–≥–∏–µ).
- **–ü—Ä–∞–≤–∞ root**: –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Å sudo.
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: Docker –∏ curl (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).
- **–î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ**: –ú–∏–Ω–∏–º—É–º 1 –ì–ë —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞.
- **–î–æ–º–µ–Ω**: –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –¥–æ–º–µ–Ω, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞.
- **–ü–æ—Ä—Ç—ã**:
  - **Caddy**: –ü–æ—Ä—Ç 80 (–¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤), 9443 (–¥–ª—è —Å–∞–π—Ç–∞)
  - **Nginx**: –ü–æ—Ä—Ç 8443 (–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–ª—è SSL), 9443 (–¥–ª—è —Å–∞–π—Ç–∞)
  - –ü–æ—Ä—Ç 443 –æ—Å—Ç–∞—ë—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω—ã–º –¥–ª—è Xray

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

**Caddy (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**
```bash
bash <(curl -Ls https://github.com/DigneZzZ/remnawave-scripts/raw/main/selfsteal.sh) @ install
```

**Nginx —Å ACME SSL:**
```bash
bash <(curl -Ls https://github.com/DigneZzZ/remnawave-scripts/raw/main/selfsteal.sh) @ --nginx install
```

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
sudo bash -c "curl -fsSL https://raw.githubusercontent.com/DigneZzZ/remnawave-scripts/main/selfsteal.sh -o /usr/local/bin/selfsteal && chmod +x /usr/local/bin/selfsteal"
```

–ó–∞—Ç–µ–º:
```bash
selfsteal install          # Caddy
selfsteal --nginx install  # Nginx
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
selfsteal              # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é
selfsteal help         # –°–ø—Ä–∞–≤–∫–∞
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `install` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä |
| `up` / `down` | –ó–∞–ø—É—Å—Ç–∏—Ç—å / –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã |
| `restart` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã |
| `status` | –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ SSL |
| `logs` | –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ |
| `template` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏ —Å–∞–π—Ç–∞ |
| `edit` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é |
| `renew-ssl` | –û–±–Ω–æ–≤–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (—Ç–æ–ª—å–∫–æ Nginx) |
| `uninstall` | –£–¥–∞–ª–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É |
| `update` | –û–±–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç |

### –û–ø—Ü–∏–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

```bash
selfsteal --caddy install   # Caddy (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
selfsteal --nginx install   # Nginx —Å ACME SSL
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Caddy vs Nginx

| –§—É–Ω–∫—Ü–∏—è | Caddy | Nginx |
|---------|-------|-------|
| SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ) | ACME (Let's Encrypt) —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç 8443 |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | Caddyfile | nginx.conf + conf.d/ |
| –ü—É—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ | `/opt/caddy` | `/opt/nginx-selfsteal` |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ SSL | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ | `selfsteal renew-ssl` |
| –ü–æ—Ä—Ç –¥–ª—è SSL | 80 (ACME HTTP) | 8443 (ACME TLS-ALPN) |

## –®–∞–±–ª–æ–Ω—ã —Å–∞–π—Ç–æ–≤

–ö–æ–º–∞–Ω–¥–∞ `template` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–∑ 11 AI-–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –Ω–µ–π—Ä–æ—Å–µ—Ç—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–π –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞:

### üé® –î–æ—Å—Ç—É–ø–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã:

1. **üòÇ 10gag - –°–∞–π—Ç –º–µ–º–æ–≤**: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –º–µ–º–æ–≤ —Å –∏–º–∏—Ç–∞—Ü–∏–µ–π –≤–∏–¥–µ–æ–∫–æ–Ω—Ç–µ–Ω—Ç–∞
2. **üé¨ Converter - –í–∏–¥–µ–æ—Å—Ç—É–¥–∏—è-–∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä**: –û–Ω–ª–∞–π–Ω —Å–µ—Ä–≤–∏—Å –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤–∏–¥–µ–æ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
3. **üìÅ Convertit - –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä —Ñ–∞–π–ª–æ–≤**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∏ —Å–∏–º—É–ª—è—Ü–∏–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
4. **‚¨áÔ∏è Downloader - –î–∞—É–Ω–ª–æ–∞–¥–µ—Ä**: –°–µ—Ä–≤–∏—Å –∑–∞–≥—Ä—É–∑–æ–∫ —Å —Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
5. **‚òÅÔ∏è FileCloud - –û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**: –§–∞–π–ª–æ—Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å –∫—Ä–∞—Å–∏–≤–æ–π —Ñ–æ—Ä–º–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ñ–∞–π–ª–æ–≤—ã–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
6. **üéÆ Games-site - –†–µ—Ç—Ä–æ –∏–≥—Ä–æ–≤–æ–π –ø–æ—Ä—Ç–∞–ª**: –°–∞–π—Ç —Å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–º–∏ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–º–∏ –∏–≥—Ä–∞–º–∏ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ò–ò –æ–±–ª–æ–∂–∫–∞–º–∏
7. **üõ†Ô∏è ModManager - –ú–æ–¥-–º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –∏–≥—Ä**: –ò–º–∏—Ç–∞—Ü–∏—è —Å–∞–π—Ç–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è–º–∏ –∏–≥—Ä
8. **üöÄ SpeedTest - –°–ø–∏–¥—Ç–µ—Å—Ç**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Ä—É—Å—Å–∫–æ–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–µ–π
9. **üì∫ YouTube - –í–∏–¥–µ–æ—Ö–æ—Å—Ç–∏–Ω–≥ —Å –∫–∞–ø—á–µ–π**: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –≤–∏–¥–µ–æ —Å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –∫–∞–ø—á–µ–π –∏ –ø–ª–∏—Ç–æ—á–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
10. **‚ö†Ô∏è 503 Error v1 - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–∫–∏ 503**: –°—Ç–∏–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–∫–∏ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º IP-–∞–¥—Ä–µ—Å–∞ –∫–ª–∏–µ–Ω—Ç–∞
11. **‚ö†Ô∏è 503 Error v2 - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–∫–∏ 503**: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—à–∏–±–∫–∏

### ü§ñ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ AI-—à–∞–±–ª–æ–Ω–æ–≤:

- **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–∑–¥–∞–Ω—ã –Ω–µ–π—Ä–æ—Å–µ—Ç—å—é**: –í—Å–µ HTML, CSS, JavaScript –∏ –¥–∏–∑–∞–π–Ω
- **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –∏–º–∏—Ç–∞—Ü–∏—è**: –®–∞–±–ª–æ–Ω—ã –∏–º–∏—Ç–∏—Ä—É—é—Ç –Ω–∞—Å—Ç–æ—è—â–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ**: –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- **–°–ª—É—á–∞–π–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞**: –ü—Ä–∏ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–π —à–∞–±–ª–æ–Ω
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω**: –†–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã**: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –∏ —Ñ–æ—Ä–º—ã –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏

### üîÑ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏:

- **View Current Template**: –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–º —à–∞–±–ª–æ–Ω–µ
- **Keep Current Template**: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —à–∞–±–ª–æ–Ω –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —à–∞–±–ª–æ–Ω–∞ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Caddy –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π. –í—Å–µ —à–∞–±–ª–æ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

### üì¶ –ò—Å—Ç–æ—á–Ω–∏–∫ —à–∞–±–ª–æ–Ω–æ–≤

–í—Å–µ —à–∞–±–ª–æ–Ω—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è [sni-templates](https://github.com/SmallPoppa/sni-templates), –≥–¥–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –ø–æ–ª–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è AI-–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ–±-—à–∞–±–ª–æ–Ω–æ–≤ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ –∏ –ø—Ä–µ–≤—å—é –∫–∞–∂–¥–æ–≥–æ —à–∞–±–ª–æ–Ω–∞.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Xray Reality

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Caddy –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Xray Reality, –∏—Å–ø–æ–ª—å–∑—É—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `inbounds` –¥–ª—è Xray:

```json
{
    "inbounds": [
        {
            "tag": "VLESS_SELFSTEAL_WITH_CADDY",
            "port": 443,
            "protocol": "vless",
            "settings": {
                "clients": [],
                "decryption": "none"
            },
            "sniffing": {
                "enabled": true,
                "destOverride": [
                    "http",
                    "tls",
                    "quic"
                ]
            },
            "streamSettings": {
                "network": "raw",
                "security": "reality",
                "realitySettings": {
                    "show": false,
                    "xver": 1,
                    "target": "127.0.0.1:9443",
                    "spiderX": "",
                    "shortIds": [
                        ""
                    ],
                    "privateKey": "#REPLACE_WITH_YOUR_PRIVATE_KEY, GENERATE BELOW ‚Üì",
                    "serverNames": [
                        "reality.example.com"
                    ]
                }
            }
        }
    ]
}
```

–ó–∞–º–µ–Ω–∏—Ç–µ:
- `"reality.example.com"` –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω, —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Caddy.
- `"#REPLACE_WITH_YOUR_PRIVATE_KEY"` –Ω–∞ –≤–∞—à —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á Reality.

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç `target` (–æ–Ω –∂–µ dest) —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø–æ—Ä—Ç–æ–º HTTPS, —É–∫–∞–∑–∞–Ω–Ω—ã–º –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Caddy (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 9443).

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å–µ–ª—Ñ—Å—Ç–∏–ª–∞, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ö–æ—Å—Ç–∞ —É–∫–∞–∑–∞—Ç—å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ SNI –∏ –•–æ—Å—Ç —Ç–∞–∫–∏–º –∂–µ, –∫–∞–∫ —É –≤–∞—Å —É–∫–∞–∑–∞–Ω–æ –≤ serverNames –≤ –∏–Ω–±–∞—É–Ω–¥–µ.

<img width="438" height="435" alt="–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ" src="https://github.com/user-attachments/assets/57f00a62-1cad-4225-825c-23ed6a779744" />


## –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

- **AI-—à–∞–±–ª–æ–Ω—ã**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `template` –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏–∑ 11 –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö AI-–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤
- **HTML-–∫–æ–Ω—Ç–µ–Ω—Ç**: –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (`/opt/caddy/html` –∏–ª–∏ `/opt/nginx-selfsteal/html`)
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `edit` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **–õ–æ–≥–∏**: –î–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `logs`
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã**: –ü—Ä–∏ —Å–º–µ–Ω–µ —à–∞–±–ª–æ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∞–º–∏
–°–∫—Ä–∏–ø—Ç –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∞–º–∏:

- **–ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–∑–º–µ—Ä–∞ –ª–æ–≥–æ–≤** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤** - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50MB)
- **–û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤** - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π
- **–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã
–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
./
‚îú‚îÄ‚îÄ docker-compose.yml    # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Caddyfile            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Caddy
‚îú‚îÄ‚îÄ .env                 # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ html/                # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Å–∞–π—Ç–∞
    ‚îú‚îÄ‚îÄ index.html
    ‚îú‚îÄ‚îÄ css/
    ‚îú‚îÄ‚îÄ js/
    ‚îî‚îÄ‚îÄ assets/
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
```bash
DOMAIN=your-domain.com          # –í–∞—à –¥–æ–º–µ–Ω
REALITY_DEST=8080              # –ü–æ—Ä—Ç Reality –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
REALITY_SERVER_NAMES=          # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –∏–º–µ–Ω–∞
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
–°–∫—Ä–∏–ø—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç "9) –û–±–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç"
3. –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞–µ—Ç –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é


### –û–±—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç—ã –Ω–µ –∑–∞–Ω—è—Ç—ã
```bash
docker logs caddy_reality_container
netstat -tlnp | grep :80
netstat -tlnp | grep :443
```

#### –ü—Ä–æ–±–ª–µ–º–∞: SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS
nslookup your-domain.com
dig your-domain.com A

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç–∞
telnet your-domain.com 80
telnet your-domain.com 443
```

#### –ü—Ä–æ–±–ª–µ–º–∞: –°–∞–π—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã —à–∞–±–ª–æ–Ω–∞ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
```bash
ls -la html/
docker exec caddy_reality_container ls -la /var/www/html/
```

## üóë –£–¥–∞–ª–µ–Ω–∏–µ

–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
```bash
selfsteal uninstall
```

–ü—Ä–∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø.

> ‚ö†Ô∏è –ú–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ **–æ–¥–∏–Ω** –≤–µ–±-—Å–µ—Ä–≤–µ—Ä (Caddy –∏–ª–∏ Nginx). –î–ª—è —Å–º–µ–Ω—ã —Å–µ—Ä–≤–µ—Ä–∞ —Å–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª–∏—Ç–µ —Ç–µ–∫—É—â–∏–π.

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏ Docker –æ–±—Ä–∞–∑—ã
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É —Ñ–∞–π—Ä–≤–æ–ª–æ–º

### –§–∞–π–ª—ã —Å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- `.env` - —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–æ–º–µ–Ω–∞
- `Caddyfile` - —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ TLS
- –õ–æ–≥–∏ - –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å IP –∞–¥—Ä–µ—Å–∞ –∏ –∑–∞–ø—Ä–æ—Å—ã

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Caddy](https://caddyserver.com/docs/)
- [Docker Compose –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.docker.com/compose/)
- [Reality Protocol](https://github.com/XTLS/Reality)
- [SNI Templates - AI-–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã](https://github.com/DigneZzZ/remnawave-scripts/tree/main/sni-templates)

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE).

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**: [github.com/DigneZzZ/remnawave-scripts](https://github.com/DigneZzZ/remnawave-scripts)
- **Issues**: –û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ issue –Ω–∞ GitHub –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.


## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞" –≤—ã—à–µ
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: `docker logs caddy_reality_container`
3. –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ [GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏](https://github.com/DigneZzZ/remnawave-scripts/issues)
